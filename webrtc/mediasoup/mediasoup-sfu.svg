<svg width="800" height="500" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景与标题 -->
  <rect width="800" height="500" fill="#f8f9fa" />
  <text x="400" y="40" font-size="20" text-anchor="middle" font-weight="bold">MediaSoup SFU 2人会议数据流向图</text>

  <!-- 客户端 A（发送端） -->
  <rect x="50" y="100" width="150" height="120" rx="5" fill="#e3f2fd" stroke="#2196f3" stroke-width="2" />
  <text x="125" y="130" font-size="16" text-anchor="middle" font-weight="bold">客户端 A（发送端）</text>
  <text x="125" y="160" font-size="14" text-anchor="middle">摄像头/麦克风</text>
  <text x="125" y="190" font-size="14" text-anchor="middle" fill="#d32f2f">Producer（推流）</text>

  <!-- 客户端 B（接收端） -->
  <rect x="600" y="100" width="150" height="120" rx="5" fill="#e8f5e9" stroke="#4caf50" stroke-width="2" />
  <text x="675" y="130" font-size="16" text-anchor="middle" font-weight="bold">客户端 B（接收端）</text>
  <text x="675" y="160" font-size="14" text-anchor="middle">屏幕渲染</text>
  <text x="675" y="190" font-size="14" text-anchor="middle" fill="#2e7d32">Consumer（拉流）</text>

  <!-- MediaSoup SFU 核心 -->
  <rect x="300" y="100" width="200" height="200" rx="5" fill="#fff3e0" stroke="#ff9800" stroke-width="3" />
  <text x="400" y="130" font-size="18" text-anchor="middle" font-weight="bold" fill="#e65100">MediaSoup SFU</text>
  <text x="400" y="165" font-size="14" text-anchor="middle">Worker（进程）</text>
  <text x="400" y="200" font-size="14" text-anchor="middle" fill="#e65100">Router（路由核心）</text>
  <text x="400" y="235" font-size="14" text-anchor="middle">Transport（传输通道）</text>

  <!-- 数据流向箭头：A → SFU -->
  <line x1="200" y1="160" x2="300" y2="160" stroke="#2196f3" stroke-width="2" stroke-dasharray="5,3" />
  <polygon points="300,155 300,165 310,160" fill="#2196f3" />
  <text x="250" y="150" font-size="12" text-anchor="middle" fill="#2196f3">视频/音频流（WebRTC）</text>

  <!-- 数据流向箭头：SFU → B -->
  <line x1="500" y1="160" x2="600" y2="160" stroke="#4caf50" stroke-width="2" stroke-dasharray="5,3" />
  <polygon points="600,155 600,165 590,160" fill="#4caf50" />
  <text x="550" y="150" font-size="12" text-anchor="middle" fill="#4caf50">转发 A 的流（WebRTC）</text>

  <!-- 信令通道（虚线）：A ↔ SFU -->
  <line x1="200" y1="190" x2="300" y2="190" stroke="#9c27b0" stroke-width="1.5" stroke-dasharray="2,2" />
  <polygon points="300,185 300,195 305,190" fill="#9c27b0" />
  <text x="250" y="180" font-size="11" text-anchor="middle" fill="#9c27b0">信令（连接协商）</text>

  <!-- 信令通道（虚线）：B ↔ SFU -->
  <line x1="500" y1="190" x2="600" y2="190" stroke="#9c27b0" stroke-width="1.5" stroke-dasharray="2,2" />
  <polygon points="600,185 600,195 595,190" fill="#9c27b0" />
  <text x="550" y="180" font-size="11" text-anchor="middle" fill="#9c27b0">信令（流请求）</text>
</svg>